<!DOCTYPE html>

<head>
    <title>Exercise - 2D arrays and objects</title>
</head>

<body>
    <form action="/action_page.php">
        <label for="elem">Enter a number (between 0 and 100):</label>
        <input type="number" id="elem" name="elem" min="0" max="100" value="0">
    </form>
    <br />
    <button onclick="getUserNumber(arr)">Submit</button>
    <br /><br />
    <hr>
    <h3>Matrix:</h3>
    <p id="matrix"></p>
    <hr>
    <h3>Coordinates:</h3>
    <p id="coords"></p>

    <script>
        // 1
        const COLS = 10
        const ROWS = 10
        const MATRIX_ID = "matrix"
        const COORDS_ID = "coords"
        const arr = getRandomizedArray(ROWS, COLS)

        printArray(arr, MATRIX_ID)

        // ############################################################

        function getUserNumber() {
            const userVal = document.getElementById('elem').value
            const coordsArr = find2D(arr, userVal)

            printArray(coordsArr, COORDS_ID)
        }

        function getRandomizedArray(rows, cols) {
            const arr = new Array(0)

            for (let i = 0; i < rows; i++) {
                arr.push([...new Array(cols)]
                .map(_ => getRandNumber(0, 100)))
            }

            return arr
        }

        // returns the coordinates of val in an array arr
        // return format: [[row1, col1], ... ,[rowN, colN]]
        function find2D(arr, val) {
            const ret = new Array(0)

            for (let currRow = 0; currRow < arr.length; currRow++) {
                for (let currCol = 0; currCol < arr[currRow].length; currCol++) {
                    if (val == arr[currRow][currCol]) {
                        ret.push([currRow, currCol])
                    }
                }
            }

            return ret
        }

        function printArray(arr, docID) {
            let toPrint = ""

            for (let currRow = 0; currRow < arr.length; currRow++) {
                toPrint += `${currRow}|&nbsp&nbsp&nbsp`

                for (let currCol = 0; currCol < arr[currRow].length; currCol++) {
                    let num = arr[currRow][currCol]
                    toPrint += `${num}, `
                }

                toPrint += "<br/>"

                document.getElementById(docID).innerHTML = toPrint
            }
        }

        function getRandNumber(min, max) {
            return Math.floor(Math.random() * (max + 1)) + min
        }
    </script>
</body>

</html>